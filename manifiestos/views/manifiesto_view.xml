<odoo>
    <data>
        <record model="ir.ui.view" id="manifiesto_form_view">
            <field name="name">manifiesto.form</field>
            <field name="model">manifiestos.manifiesto</field>
            <field name="arch" type="xml">
                <form string="Manifiesto"  class="o_sale_order">
                    <header>
                        <button name="generar_imprimir_firma" type="object" string="Firma Electronica" class="btn-primary"/>
                        <button name="actualizar_firma_id_1" type="object" string="Vincular Manifiesto" class="btn-secondary"/>
                    </header>
                    <sheet>
                        <group name="sale_header">
                            <group name="partner_details" string="Generador">
                                <!-- <div class="separator" style="font-size: 15px; border-top: 1px solid #c1c1c1; margin-top: 10px; margin-bottom: 10px;">Generador</div> -->
                                <field name="estado" required="1"/>
                                <field name="sello" required="1"/>
                                <field name="partner_id" required="1"/>
                            </group>
                            <group name="partner_details" string="Residuo"> 
                                <!-- <div class="separator" style="font-size: 15px; border-top: 1px solid #c1c1c1; margin-top: 10px; margin-bottom: 10px;">Residuo</div> -->
                                <field name="instrucciones" string="Instrucciones" required="1"/>
                                <field name="nombre_7" string="Nombre del responsable" required="1"/>
                            </group>                           
                            <!-- <div class="separator" style="font-size: 15px; border-top: 1px solid #c1c1c1; margin-top: 10px; margin-bottom: 10px;">Transporte</div> -->
                            <group name="order_details" string="Transporte">    
                                <field name="emp_permiso"/>
                                <field name="auto_bd_man" string="Vehiculo Asignado" required="1"/>
                                <field name="vehicle_id" string="Vehiculo" invisible="auto_bd_man != 'bd'"/>
                                <field name="auto_tipo" string="Tipo de vehiculo" invisible="auto_bd_man != 'man'"/>
                                <field name="auto_placa" string="No. de Placa" invisible="auto_bd_man != 'man'"/>
                                <field name="chofer_bd_man" string="Chofer Asignado" required="1"/>
                                <field name="chofer_nombre" string="Nombre Chofer" invisible="chofer_bd_man != 'man'"/>
                                <!-- 25
                                <field name="f_firma_chofer" invisible="chofer_bd_man != 'man'"/> -->
                                <field name="chofer_licencia" string="Licencia Chofer" invisible="chofer_bd_man != 'man'"/>
                                <field name="chofer_tipo" string="Tipo Chofer" invisible="chofer_bd_man != 'man'"/>
                                <field name="chofer_cargo" string="Cargo Chofer" invisible="chofer_bd_man != 'man'"/>
                                <field name="fecha_1" string="Fecha de embarque" required="1"/>
                                <field name="ruta" string="Ruta de la empresa" required="1"/>
                            </group>
                            <group name="order_details" string="Destinatario">   
                                <!-- <div class="separator" style="font-size: 15px; border-top: 1px solid #c1c1c1; margin-top: 10px; margin-bottom: 10px;">Destinatario</div> -->
                                <field name="acopio" string="Tipo de Servicio" required="1"/>
                                <field name="contact_id" string="Destino" invisible="acopio == 'sel' or acopio == 'aco'"/>
                                <field name="acopio_id" string="Empresa Acopio" invisible="acopio == 'sel' or acopio == 'reg'"/>
                                <field name="fecha_2" string="Fecha recepción" required="1"/>
                            </group>
                            <group name="order_details" string="Observaciones"> 
                                <!-- <div class="separator" style="font-size: 15px; border-top: 1px solid #c1c1c1; margin-top: 10px; margin-bottom: 10px;">Observaciones</div>                                -->
                                <field name="observaciones"  string="Observaciones Generales" placeholder="Escribe las instrucciones de residuo aquí..."/>
                            </group>
                            <group name="order_details" string="Manifiesto Finalizado"> 
                                <!-- <div class="separator" style="font-size: 15px; border-top: 1px solid #c1c1c1; margin-top: 10px; margin-bottom: 10px;">Manifiesto Finalizado</div> -->
                                <field name="firma_id_1" string="Firma Documento"/>
                                <!-- <field name="firma_id_2" string="Firma Documento Template"/> -->
                                <field name="firma_state" string="Estado de la Firma" readonly="1"/>
                                <field name="firma_url" string="Firma URL" readonly="1"/>
                            </group>
                        </group>                        
                        <field name="lines" string="Líneas de facturación" nolabel="1">
                            <tree editable="top">
                                <field name="product_id"/>
                                <field name="tipo"/>
                                <field name="clasifi_gto" string="Clasificacion Gto" required="1"/>
                                <field name="cantidad"/>
                                <field name="capacidad"/>
                                <field name="unidad"/>
                            </tree>
                        </field>
                    </sheet>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="manifiesto_action">
            <field name="name">Manifiestos</field>
            <field name="res_model">manifiestos.manifiesto</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': 'partner_id'}</field>
        </record>
        <record id="view_mi_modelo_tree" model="ir.ui.view">
            <field name="name">Manifiestos</field>
            <field name="model">manifiestos.manifiesto</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="consecutivo"/>
                    <field name="fecha_1" string="Fecha de Servicio" widget="date" optional="show" readonly="1"/>
                    <field name="partner_id"/>
                    <field name="firma_state"/>
                </tree>
            </field>
        </record>
        <menuitem name="Manifiestos" id="menu_manifiestos" action="manifiesto_action" web_icon="manifiestos,static/description/icon.png"/>
    </data>
</odoo>

